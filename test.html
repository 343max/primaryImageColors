<!DOCTYPE html>
<html lang="en">
<head>
	<script src="primaryImageColors.js"></script>
	<script src="jquery-1.7.1.min.js"></script>
	<meta charset="utf-8" />
	<title>favicons</title>
<style>

div.sample {
	padding: 10px;
}

div.sample div {
	float: left;
}

div.sample div.favicon {
	width: 16px;
	height: 16px;
	background-size: 100%;
}

div.sample div.color {
	margin: 2px;
	width: 10px;
	height: 10px;
	border: 1px solid gray;
	font-size: 0.7em;
}

</style>
<script>


function processFavicons(favicons) {
	$.each(favicons, function(i, url) {
		var div = $('<div>').addClass('sample');
		div.append($('<div>').addClass('favicon').css('background-image', 'url(' + url + ')'));

		imageColors(url, function(colors, totalPixelCount) {
			for(var i = 0; i < Math.min(10, colors.length); i++) {
				//console.log(colors[i].diversity);
				div.append($('<div>').addClass('color').css('background-color', colors[i].rgba));
			}
		});

		$('body').append(div);
	});
}

$().ready(function() {
	processFavicons([
		'favicons/dribbble.com-favicon.ico',
		'favicons/www.google.de-favicon.ico',
		'favicons/whatsitscolor.com-favicon.ico',
		'favicons/www.piratenpartei.de-custom-favicon.ico',
		'favicons/343max.de-custom-favicon.ico',
		'favicons/nachrichten.lvz-online.de-resources-favicon.ico',
		'favicons/ifttt.com-favicon2.ico',
		'favicons/www.vemedio.com-favicon.ico',
		'favicons/www.taz.de-favicon.ico',
		'favicons/hacks.mozilla.org-wp-content-themes-Hacks2010-favicon.ico',
		'favicons/www.tagesspiegel.de-images-favicon-3714-3.ico',
		'favicons/www.faz.net-favicon.ico',
		'favicons/www.137b.org-favicon.ico',
		'favicons/www.theverge.com-images-verge-favicon.png',
		'favicons/nav.heroku.com-images-logos-favicon.ico',
		'favicons/www.spiegel.de-favicon.ico',
		'favicons/www.apple.com-favicon.ico',
		'favicons/tether.com-sites-all-themes-tether-favicon.ico'
	]);
});

</script>

</head>
<body>


</body>
</html>
